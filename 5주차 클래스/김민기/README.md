# 클래스

클래스란 객체지향 프로그래밍에서 객체를 생성하기 위한 일종의 틀을 말합니다.

클래스를 이루는 속성(멤버)는 멤버 변수(필드)와 멤버 메서드, 생성자 및 초기화 블럭 + 스태틱(정적) 변수, 메서드로 이루어져 있습니다.

## 클래스 작성

클래스는 `class` 키워드 및 중괄호로 정의할 수 있습니다.

클래스를 작성할 때 접근지정자를 포함하여 작성할 수 있으나 같은 파일(.java) 내에 `public` 키워드는 단 하나만 작성 가능합니다.

```java
public class MyClass{
//속성 작성..
}
```

## static 키워드

클래스 내의 속성은 `static` 키워드로 정적으로 선언할 수 있으며 정적으로 선언된 변수는 클래스 로딩시 한번만 초기화되며 인스턴스 없이 접근할 수 있습니다.

`static` 으로 선언된 속성은 메서드 영역에 로딩되므로 모든 인스턴스, 혹은 인스턴스가 없더라도 공유됩니다.

### static 클래스

클래스 명은 기본적으로 `static` 키워드를 사용할 수 없습니다. `static` 키워드를 사용하지 않아도 모든 클래스는 클래스 로더에 의해서 메서드 영역에 로딩됩니다.

단 클래스 내부에 작성하는 이너 클래스는 인스턴스가 생성되어야 접근가능하므로 외부 클래스의 인스턴스 없이 접근하고 싶다면 `static` 키워드를 사용할 수 있습니다.

## 접근 지정자

- private : 같은 클래스 내에서만 참조 가능
- default : 같은 패키지 내에서만 참조 가능
- protected : 같은 패키지 및 상속관계에서만 참조 가능
- public : 모든 곳에서 참조 가능

## 멤버 변수

멤버 변수란 클래스 내에 작성되는 변수로써 접근 지정자를 설정하여 멤버의 접근을 제어할 수 있습니다. 

멤버 변수로 작성된 변수들은 기본형은 `0` 에 준하는 값, 참조 변수는 `null` 의 기본값을 갖습니다.

```java
public class MyClass{
//멤버 변수 a, b
	int a;
}
```

## 클래스 변수 (static 변수)

`static` 키워드로 작성된 변수는 클래스 변수라고 칭하며, 일반 멤버 변수와 다르게 클래스 로딩시 메모리 할당 및 초기화되며 인스턴스에 종속적이지 않습니다.

즉 인스턴스의 생성 없이 클래스를 통해 바로 접근할 수 있습니다

```java
//ex) Integer 클래스의 static final 변수
Integer.MAX_VALUE;
```

## 멤버 메서드

멤버 메서드는 클래스 내에 작성된 메서드입니다. 접근 지정자로 작성하여 접근을 제한할 수 있습니다.

각 인스턴스가 생성될 때 인스턴스 메모리(힙) 내에 메모리가 할당되어 접근할 수 있습니다.

```java
public class MyClass{
	void myMethod(){
		System.out.println("hi");
	}
}
```

## static 메서드

`static` 키워드로 작성된 메서드도 클래스 로딩 시 초기화되고, 인스턴스 없이 호출할 수 있습니다.

```java
//ex) Math 클래스의 static 메서드
Math.max(10, 20);
```

## 생성자 및 초기화 블럭

초기화 블럭과 생성자는 객체의 인스턴스가 생성될 때 수행되는 과정이며 멤버 변수 초기화 등의 로직을 수행합니다.

생성자에는 접근 지정자를 작성하여 접근을 제어할 수 있습니다. 또한 **생성자의 가장 첫 줄**에는 해당 인스턴스의 다른 생성자(`this()`) 혹은 슈퍼 클래스의 생성자(`super()`)를 호출해야합니다.

작성하지 않았다면 자동으로 `super()` 를 호출합니다.

### 생성자

생성자는 클래스 명과 동일하며 반환값이 없는 메서드 형태로 작성합니다.

```java
public class MyClass{
	public MyClass(int a){
		//super() 생략
//생성자 로직
	}
}
```

클래스 내에 아무런 생성자를 선언하지 않으면 컴파일러가 기본생성자를 만들어 줍니다. 이 기본 생성자는 매개변수 및 수행 로직이 없습니다.

생성자 작성 시 생성자를 하나라도 작성했다면 기본생성자를 생성하지 않는다는 점을 유의해야합니다.

### 수행 시점 및 순서

- 클래스 로딩 시
    - 스태틱 변수 메모리 할당 → 기본값 할당 → 명시적 초기화 → 스태틱 초기화 블럭
- 인스턴스 생성시
    - 인스턴스 변수 메모리 할당 → 기본값 할당 → 인스턴스 블럭 수행 → 생성자 수행

```java
public class MyClass{
	static int c = 10;
//멤버 변수
	int a = 20;
//스태틱 블럭
	static {
		a++;
	}
//인스턴스 블럭
	{
		a++;
	}
//기본 생성자
	public myClass(){
	}
}
```

추가적인 내용은 다음 글에 작성에서 확인할 수 있습니다.

[https://velog.io/@tomato2532/초기화-블럭과-생성자](https://velog.io/@tomato2532/%EC%B4%88%EA%B8%B0%ED%99%94-%EB%B8%94%EB%9F%AD%EA%B3%BC-%EC%83%9D%EC%84%B1%EC%9E%90)

## 인스턴스 생성

클래스의 인스턴스는 `new` 를 통해 생성할 수 있습니다.

### new 키워드

`new` 키워드로 클래스 명을 호출하면 해당하는 매개변수에 맞는 생성자를 호출하여 인스턴스를 생성합니다.

```java
//인스턴스 실행 및 기본 생성자 호출
new MyClass();
int a = 1;
//아규먼트가 일치하는 생성자 호출
new MyClass(a);
```

`new` 연산자는 인스턴스를 생성한 후 해당 인스턴스의 참조 해시코드 값을 반환합니다. 따라서 생성된 인스턴스를 이후에 접근하려면 해당 클래스 대입할 수 있는 형태의 레퍼런스 변수가 필요합니다.

```java
MyClass myInstance = new MyClass();
```

이 때 생성된 인스턴스는 JVM의 힙 영역에 저장됩니다.

## this 키워드

`this` 는 인스턴스가 생성된 클래스의 자기 자신을 참조할 수 있는 키워드로 자기 자신 객체에 접근할 수 있습니다.

`this` 사용할 때 자기 자신의 인스턴스에 대한 레퍼런스처럼 접근 가능하므로 해당 인스턴스 내의 다른 속성에 접근할 수 있습니다.

### this()

`this()` 키워드를 작성하면 해당 클래스의 생성자를 호출 할 수 있습니다.

생성자는 반드시 다른 생성자의 첫 째줄에만 작성가능하며 작성하지 않았다면 `super()` 가 호출됩니다.

```java
public class MyClass{
	int a;
	public void myMethod(){
		System.out.println("메서드 수행");
	}

	public MyClass(){
		//super 생략
		this.myMethod();
	}

	public MyClass(int b){
		//기본 생성자 호출
		this();
		//속성 접근 및 값 초기화
		this.a = b;
		
	}
}
```

생성자는 멤버(메서드 포함)가 메모리에 할당된 이후 수행되므로 생성자 내에서 다른 메서드를 호출할 수 있습니다.
