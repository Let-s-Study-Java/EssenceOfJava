## 3. 연산자

##### 목표 : 자바가 제공하는 다양한 연산자를 학습한다.

##### 학습할 것

- 산술 연산자
- 비트 연산자
- 관계 연산자
- 논리 연산자
- instanceof
- assignment(=) operator
- 화살표(->) 연산자
- 3항 연산자
- 연산자 우선 순위

---

</br>

#### 3-1. 산술 연산자

---

> 사칙 연산(+, -, *, /)과 나머지 연산(%)을 수행한다.

- **사칙 연산자**

  - 곱셈(*)과 나눗셈(/)이 덧셈(+), 뺄셈(-)보다 우선순위가 높아 먼저 처리된다.

  - 피연산자가 정수형인 경우, 나누는 수로 0을 사용할 수 없다.

    ```java
    System.out.println(9/0);	// ArithmeticException !
    System.out.println(9/0.0);	// Infinity
    ```

  - 타입이 일치하지 않을 경우 범위가 더 넓은 형에 일치시키고, 연산을 수행한다.

    ```java
    // 나눗셈(/) 연산의 경우 아래와 같이 자동 형변환됨에 유의해야 한다.
    System.out.println(9/2);	// 4
    System.out.println(9/2.0f);	// 4.5f
    ```

  - 연산결과가 최댓값을 넘을 경우 오버플로우(overflow)가 발생한다.

    ```java
    int num = 1000000;
    int a = 2000000;
    long b = 2000000L;
    long res = num * a;
    System.out.println(res);	//-1454759936
    res = num * b;
    System.out.println(res);	//2000000000000L
    ```

- **나머지 연산자**

  - 나누고 난 나머지 값을 결과로 반환하는 연산자
  - 나눗셈과 마찬가지로, 0을 나누는 수로 사용할 수 없다.

</br>

#### 3-2. 비트 연산자

---

> 피연산자를 비트단위로 논리 연산한다.

- **| (OR 연산자)** : 피연산자 중 한 쪽의 값이 1이면, 1을 결과로 얻는다.
- **& (AND 연산자)** : 피연산자 양 쪽 모두 1이면, 1을 결과로 얻는다.
- **^ (XOR 연산자)** : 피연산자의 값이 서로 다를 때만 1을 결과로 얻는다.

|  x   |  y   | x \| y | x & y | x ^ y |
| :--: | :--: | :----: | :---: | :---: |
|  1   |  1   |   1    |   1   |   0   |
|  1   |  0   |   1    |   0   |   1   |
|  0   |  1   |   1    |   0   |   1   |
|  0   |  0   |   0    |   0   |   0   |


- **\~ (비트 전환 연산자)** : 0은 1로, 1은 0으로 바꾼다.

- **<<, >> (쉬프트 연산자)** : 피연산자를 2진수로 표현했을 때 각 자리를 이동시키는 연산자

  ```java
  // 쉬프트 연산이 곱셈이나 나눗셈의 연산보다 더 빠르다.
  // x<<n은 x*2^n의 결과와 같다.
  // x>>n은 x/2^n의 결과와 같다.
  ```

</br>

#### 3-3. 관계 연산자

---

> 비교 연산자. 크고 작음, 같고 다름을 비교할 수 있다.

- **>, <, <=, >= (대소비교 연산자)**
  - 값의 크기를 비교하여 참이면 true, 거짓이면 false를 반환한다.
  - 기본형 중에는 boolean형을 제외하고 전부 사용가능하다. 참조형은 사용불가.
- **==, != (등가비교 연산자)**
  - 두 피연산자의 값이 같은지 다른지를 비교하여 결과를 반환한다.
  - 모든 자료형에서 사용할 수 있다. 참조형의 경우, 주소값을 비교할 수 있다.

*cf. 문자열의 비교*

*문자열이 같은 지 비교하기 위해서는 비교 연산자 '==' 대신 `equals()` 메서드를 사용한다.*

</br>

#### 3-4. 논리 연산자

---

> '그리고(AND)'와 '또는(OR)'으로 조건을 연결한다.

- **|| (OR 연산자)** : 피연산자 중 어느 한 쪽만 true라면, true를 결과로 얻는다.
- **&& (AND 연산자)** : 피연산자 모두 true라면, true를 결과로 얻는다.

```java
char ch = 'v';
if(('a' <= ch && ch <= 'z') || ('A' <= ch && ch <= 'Z')){
    System.out.println("ok");
}	// ok
```

*cf. 같은 조건식이라도 피연산자의 위치에 따라 효율적인 연산이 가능하다.*

- **! (논리 부정 연산자)** : true와 false를 반대로 바꾼다.

</br>


#### 3-5. instanceof

---

> 참조변수의 실제 타입을 알아보기 위해 사용한다.

- 사용방법 : 참조변수 instanceof 타입(클래스)

```java
class Animal {}
class Tiger extends Animal {}
class Rose {}

Animal animal = new Tiger();
if(animal instanceof Animal) System.out.println("ok");	// ok
if(animal instanceof Tiger)	 System.out.println("ok");	// ok
if(animal instanceof Rose)	 System.out.println("ok");	// 
```

</br>

#### 3-6. assignment(=) operator

---

> 대입 연산자. 우변의 값을 좌변에 저장하는 연산이다.

- 결합방향은 오른쪽에서 왼쪽이다.

  `x=y=3`의 경우, `y=3`이 수행된 후에 `x=y`가 수행된다.

- **op= (복합 대입 연산자)** : 다른 연산자(op)와 결합하여 사용한다. 

  ```java
  int num = 7;
  num = num + 1;	// num = 8
  num += 1;		// num = 9, 위의 식과 같다.
  num *= 10 + 5;	// num = 135, num = num * (10+5)의 식과 같다. 
  ```

</br>

#### 3-7. 화살표(->) 연산자

---

> Lambda. 메서드를 하나의 식으로 표현한 것.

- `Java 8`부터 도입된 함수 지향적 표현방식
- 코드의 간소화, 가독성 향상의 장점에 비해 재사용이 불가하다는 단점이 있다.

*cf.  함수형 인터페이스(Functional Interface) : 단 1개의 추상메서드만을 가지는 인터페이스*

```java
@FunctionalInterface
public interface MyFunction{
    public int func(int a, int b);
}
```

위와 같이, 함수형 인터페이스를 만들면, 선언된 단 하나의 메서드가 람다식과 연결되어 람다식을 사용할 수 있다.

```java
MyFunction myFunc = (int a, int b) -> { return a + b };
```

</br>

#### 3-8. 3항 연산자

---

> 조건 연산자. 조건식, 식1, 식2 세 개의 피연산자를 필요로 한다.

- `조건식 ? 식1 : 식2`의 형태로, 조건식이 true라면 식1을, false라면 식2를 반환한다.

  ```java
  int result = (5>3) ? 5 : 3 ;	// 5>3이 true이므로, result = 5;
  
  // 위와 같다.
  if(5>3)	result = 5;
  else	result = 3;
  ```

</br>

#### 3-9. 연산자 우선 순위

---

1. **산술 > 비교 > 논리 > 대입**. 대입은 제일 마지막에 수행된다.
2. **단항(1) > 이항(2) > 삼항(3)**. 단항 연산자의 우선순위가 이항 연산자보다 높다.
3. 단항 연산자와 대입 연산자를 제외한 모든 연산의 진행방향은 왼쪽에서 오른쪽이다.

</br>

###### 우선순위가 높은 것부터 위에서 아래로 나열하였다.

|      종류       |                    연산자                    |
| :-------------: | :------------------------------------------: |
| **단항 연산자** |          ++  --  +  -  ~  !  (type)          |
| **산술 연산자** |                   *  /  %                    |
|                 |                     +  -                     |
|                 |                    <<  >>                    |
| **비교 연산자** |           <  >  <=  >=  instanceof           |
|                 |                    ==  !=                    |
| **논리 연산자** |                      &                       |
|                 |                      ^                       |
|                 |                      \|                      |
|                 |                      &&                      |
|                 |                     \|\|                     |
| **삼항 연산자** |                     ? :                      |
| **대입 연산자** | =  +=  -=  *=  /=  %=  <<=  >>=  &=  ^=  \|= |

</br>
